<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Complexity 3</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="css/tab0.css">
    <link rel="stylesheet" href="css/tab123.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="js/tab0.js"></script>
    <script>
      var cities = {
	  1: "Rome", 2: "London", 3: "Barcelona", 4: "New York", 5: "Kaysersberg", 6: "Pedraza", 7: "Marrakesh", 8: "St Johns", 9: "Pingyao", 10: "Kowloon", 11: "Truro", 12: "Trento", 13: "Durham", 14: "Augsburg", 15: "Mittenwald", 16: "San Juan", 17: "Toxteth", 18: "Idstein", 19: "Mantova", 20: "Gloucester", 21: "Goslar", 22: "Lincoln", 23: "Vienna", 24: "Bacolod City", 25: "Manchester", 26: "Barcelona", 27: "La Paz", 28: "St Petersburg", 29: "Zermatt", 30: "Venlo", 31: "Copenhagen", 32: "Lund", 33: "Brixen", 34: "York", 35: "Wells", 36: "Wiesbaden", 37: "Annecy", 38: "Venice"
      };
      var cities = {
	  1: "Rome", 2: "London", 3: "Barcelona", 4: "New York", 5: "Kaysersberg"
      };
      var complexities = {
	  'galleryIsEmpty': false,
	  'low': [1,2,3],
	  'medium': [4,5,6],
	  'high': [7,8,9]
      };
      
      $(document).ready(function() {
	  $("#tabs").tabs();
	  $("#tabs").dblclick(function(){
	      complexities.galleryIsEmpty = (0 == $("#gallery").find("input").size());
	      complexities.low = [];
	      complexities.medium = [];
	      complexities.high = [];
	      
	      $("#lowComplexity").find("#cityId").filter(function() {
		  complexities.low.push( Number($(this).attr("value")) );
	      });
	      $("#mediumComplexity").find("#cityId").filter(function() {
		  complexities.medium.push( Number($(this).attr("value")) );
	      });
	      $("#highComplexity").find("#cityId").filter(function() {
		  complexities.high.push( Number($(this).attr("value")) );
	      });
	      
	      console.log(complexities.galleryIsEmpty);
	      console.log(complexities.low);
	      console.log(complexities.medium);
	      console.log(complexities.high);
	  });
	  $( "#sortable1" ).sortable();
	  $( "#sortable1" ).disableSelection();
	  $( "#sortable2" ).sortable();
	  $( "#sortable2" ).disableSelection();
	  $( "#sortable3" ).sortable();
	  $( "#sortable3" ).disableSelection();
      } );
    </script>
  </head>
  <body>
    <div id="tabs">
      <ul>
	<li><a href="#tabs-0">Clustering</a></li>
	<li><a href="#tabs-1">Low complexity</a></li>
	<li><a href="#tabs-2">Medium complexity</a></li>
	<li><a href="#tabs-3">High complexity</a></li>
      </ul>
      
      <!-- ============================================================ -->
      <div id="tabs-0">
	<div class="ui-widget ui-helper-clearfix">
	  
	  <ul id="gallery" class="gallery ui-helper-reset ui-helper-clearfix">
	    <script>
	      for (var i = 1; i <= Object.keys(cities).length; i++) {
		  tmp = '<li class="ui-widget-content ui-corner-tr">';
		  tmp += `<h5 class="ui-widget-header">${i}. ${cities[i]}</h5>`;
		  tmp += `<input id="cityId" type="hidden" name="cityId" value="${i}">`;
		  tmp += `<img src="thumbnails/${i}a.jpg" alt="${i}. ${cities[i]}" width="96" height="72">`;
		  tmp += `<a href="large/${i}a.jpg" title="View larger image" class="ui-icon ui-icon-zoomin">View larger</a>`;
		  tmp += '</li>';
		  document.write(tmp);
	      }
	      </script>
	  </ul>
	  
	  <div id="lowComplexity" class="ui-widget-content ui-state-default">
	    <h4 class="ui-widget-header">Low complexity</h4>
	  </div>
	  
	  <div id="mediumComplexity" class="ui-widget-content ui-state-default">
	    <h4 class="ui-widget-header">Medium complexity</h4>
	  </div>
	  
	  <div id="highComplexity" class="ui-widget-content ui-state-default">
	    <h4 class="ui-widget-header">High complexity</h4>
	  </div>
	  
	</div> 
      </div>
      
      <!-- ============================================================ -->
      <div id="tabs-1">
	<ul id="sortable1">
	  <script>
	    for (var i = 0; i < complexities['low'].length; i++) {
		cityId = complexities['low'][i];
		document.write(`<li class="ui-state-default">${cityId}. ${cities[cityId]} <img src="thumbnails/${cityId}a.jpg" width="300px"/></li>`);
	    }
	    </script>
	</ul>
      </div>
      
      <!-- ============================================================ -->
      <div id="tabs-2">
	<ul id="sortable2">
	  <script>
	    for (var i = 0; i < complexities['medium'].length; i++) {
		cityId = complexities['medium'][i];
		document.write(`<li class="ui-state-default">${cityId}. ${cities[cityId]} <img src="thumbnails/${cityId}a.jpg" width="300px"/></li>`);
	    }
	    </script>
	</ul>
      </div>
      
      <!-- ============================================================ -->
      <div id="tabs-3">
	<ul id="sortable3">
	  <script>
	    for (var i = 0; i < complexities['high'].length; i++) {
		cityId = complexities['high'][i];
		document.write(`<li class="ui-state-default">${cityId}. ${cities[cityId]} <img src="thumbnails/${cityId}a.jpg" width="300px"/></li>`);
	    }
	    </script>
	</ul>
      </div>
      
    </div>
  </body>
</html>
